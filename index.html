<html>
	<head>
        <style>
            html {
                height: 100%;
            }
            body {
                min-height: 100%;
            }
        </style>		
		<script type="text/javascript" data-callback="setupEnforcement" src="https://api.arkoselabs.com/v2/11111111-1111-1111-1111-111111111111/api.js" async defer></script>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="></script>
		<script>
			$(document).ready(function () {

				$("#btClearRedirectField").on("click", function() {
					$("#redirect").val("");
				});

				$("#btLoadRedirect").on("click", function() {
					timeout = parseInt($("#timeout").val())
					redirectUrl = $("#redirect").val()
					console.log("Redirect to '"+ redirectUrl + "' with location.replace. Timeout: " + timeout);
					window.setTimeout(function () {
						location.replace(redirectUrl);
					}, timeout);
				})
				
				$("#btLoadClickLink").on("click", function() {
					timeout = parseInt($("#timeout").val())
					redirectUrl = $("#redirect").val()
					console.log("Redirect to '" + redirectUrl + "' with location.href. Timeout: " + timeout);
					window.setTimeout(function () {
						location.href = redirectUrl;
					}, timeout);
				})
				$("#btLoadAssign").on("click", function() {
					timeout = parseInt($("#timeout").val())
					redirectUrl = $("#redirect").val()
					console.log("Redirect to '"+ redirectUrl + "' with location.assign. Timeout: " + timeout);
					window.setTimeout(function () {
						try {
							window.location.assign(redirectUrl);
						} catch (err) {
							console.log("Error found...")
							alert(err)
						}
					}, timeout);
				})
			});
		</script>
	</head>
	
	<body>
		Redirect: <input type="text" id="redirect" value='https://www.google.com' /><input type="button" id="btClearRedirectField" value="Clear" />
		<br />
		Timeout: <input type="text" id="timeout" value='5000' />
		<br /><br />
		<input type="button" id="btLoadAssign" value="Load - location.assign - (function to redirect like clicking on a link)" />
		<br /><br />
		<input type="button" id="btArkoseAssign" value="Arkose - location.assign" disabled="disabled" />
		<br /><br />
		<input type="button" id="btLoadRedirect" value="Load - location.replace - (HTTP redirect)" />
		<br /><br />
		<input type="button" id="btLoadClickLink" value="Load - location.href - (redirect like clicking on a link)" />
		<br /><br />
		<a href="arkose.html" id="arkoseLink">Page with Arkose (Full Challenge).</a>
		<br /><br />
		This is an iframe (https://www.example.com):
		<br />
		<iframe src="https://www.example.com" width="200" height="200">
		</iframe>
	</body>
</html>
